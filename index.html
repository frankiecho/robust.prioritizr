<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Robust Systematic Conservation Prioritization • robust.prioritizr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Robust Systematic Conservation Prioritization">
<meta name="description" content='Robust systematic conservation prioritization based on chance constrained programming and robust optimization. It enables conservation prioritization users to account of uncertainty in input data from climate change scenario projections, species distribution models or measurement errors. It extends the flexible interface of `prioritizr`, a systematic conservation prioritization framework, creating robust versions of systematic conservation planning problems that can be solved using exact solvers. Problems can be specified to be fully robust to all data realizations provided, or partially robust, which guarantees that the probability that the constraints are met is higher than the specified confidence level. Fully robust optimization problems are formulated as a "Minimax" linear programming problem, while partially robust optimization problems can be formulated as a "Chance Constrained Programming" problem (Charnes &amp; Cooper, 1959), or a Conditional Value-at-Risk optimization problem (Rockafellar &amp; Uryasev, 2000), both guaranteeing that the probability that targets are met are at least a certain user-specified confidence level.'>
<meta property="og:description" content='Robust systematic conservation prioritization based on chance constrained programming and robust optimization. It enables conservation prioritization users to account of uncertainty in input data from climate change scenario projections, species distribution models or measurement errors. It extends the flexible interface of `prioritizr`, a systematic conservation prioritization framework, creating robust versions of systematic conservation planning problems that can be solved using exact solvers. Problems can be specified to be fully robust to all data realizations provided, or partially robust, which guarantees that the probability that the constraints are met is higher than the specified confidence level. Fully robust optimization problems are formulated as a "Minimax" linear programming problem, while partially robust optimization problems can be formulated as a "Chance Constrained Programming" problem (Charnes &amp; Cooper, 1959), or a Conditional Value-at-Risk optimization problem (Rockafellar &amp; Uryasev, 2000), both guaranteeing that the probability that targets are met are at least a certain user-specified confidence level.'>
<meta property="og:image" content="https://frankiecho.github.io/robust.prioritizr/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">robust.prioritizr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/robust.prioritizr.html">Getting started with robust systematic conservation planning</a></li>
    <li><a class="dropdown-item" href="articles/climate-sdm.html">Example using simulated data from a species distribution model</a></li>
    <li><a class="dropdown-item" href="articles/vic-cons-planning.html">Example: Robust Conservation Planning in Victoria, Australia</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/frankiecho/robust.prioritizr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="robustprioritizr-robust-systematic-conservation-prioritization-in-r">robust.prioritizr: Robust Systematic Conservation Prioritization in R<a class="anchor" aria-label="anchor" href="#robustprioritizr-robust-systematic-conservation-prioritization-in-r"></a>
</h1>
</div>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/Lifecycle-experimental-orange.svg" alt="lifecycle"></a> <a href="https://github.com/frankiecho/roubust.prioritizr/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/frankiecho/roubust.prioritizr/R-CMD-check-ubuntu.yaml?branch=main&amp;label=Ubuntu" alt="R-CMD-check-Ubuntu"></a> <a href="https://github.com/frankiecho/roubust.prioritizr/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/frankiecho/roubust.prioritizr/R-CMD-check-windows.yaml?branch=main&amp;label=Windows" alt="R-CMD-check-Windows"></a> <a href="https://github.com/frankiecho/roubust.prioritizr/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/frankiecho/roubust.prioritizr/R-CMD-check-macos.yaml?branch=main&amp;label=macOS" alt="R-CMD-check-macOS"></a> <a href="https://github.com/frankiecho/roubust.prioritizr/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/frankiecho/roubust.prioritizr/documentation.yaml?branch=main&amp;label=Documentation" alt="Documentation"></a> <a href="https://app.codecov.io/gh/frankiecho/roubust.prioritizr/branch/main" class="external-link"><img src="https://img.shields.io/codecov/c/github/frankiecho/roubust.prioritizr?label=Coverage" alt="Coverage-Status"></a> <a href="https://CRAN.R-project.org/package=robust.prioritizr" class="external-link"><img src="https://www.r-pkg.org/badges/version/robust.prioritizr" alt="CRAN-Status-Badge"></a></p>
<p><code>robust.prioritizr</code> is a R package for robust systematic conservation prioritization based on the <code>prioritizr</code> ecosystem. It allows users to generate conservation plans that are robust to uncertainties in input data, such as those arising from climate change projections, species distribution models, or measurement errors.</p>
<p>Conventional conservation prioritization problems typically identify the optimal solution by using targets and constraints from a “best guess” of the input data. This means that even minor changes to the input data can dramatically affect whether the planning solution still meets its targets. <code>robust.prioritizr</code> helps users identify solutions to conservation planning problems that meets their targets across a range of possible future scenarios or data realizations.</p>
<p>For example, you can include species occurrence projections from several different climate models and time periods to planning objectives and targets. The package then finds a solution that meets your targets across all (or a specified proportion) of these scenarios, resulting in a more resilient conservation plan.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>robust.prioritizr</code> from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"frankiecho/robust.prioritizr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage-example">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example"></a>
</h2>
<p>Here is a minimal example demonstrating how to build a robust conservation plan.</p>
<p>The key difference from a standard <code>prioritizr</code> workflow is the use of <strong>groups</strong>. Because a single feature (e.g., a species) is now represented by multiple data layers (each being a different scenario or “realization”), the <code>groups</code> argument tells the function which layers belong to the same feature.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://prioritizr.net" class="external-link">prioritizr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get planning unit data</span></span>
<span><span class="va">pu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://prioritizr.net/reference/sim_data.html" class="external-link">get_sim_pu_raster</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get feature data</span></span>
<span><span class="va">features</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">replicate</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://prioritizr.net/reference/sim_data.html" class="external-link">get_sim_features</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">features</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">features</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">features</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"feature_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"_scenario_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">relative_budget</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/global.html" class="external-link">global</a></span><span class="op">(</span><span class="va">pu</span>, <span class="st">'sum'</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.1</span></span>
<span></span>
<span><span class="co"># Get the groups</span></span>
<span><span class="va">groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"feature_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set up prioritizr problem</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://prioritizr.net/reference/problem.html" class="external-link">problem</a></span><span class="op">(</span><span class="va">pu</span>, <span class="va">features</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_constant_robust_constraints.html">add_constant_robust_constraints</a></span><span class="op">(</span>groups <span class="op">=</span> <span class="va">groups</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_robust_min_set_objective.html">add_robust_min_set_objective</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://prioritizr.net/reference/add_relative_targets.html" class="external-link">add_relative_targets</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://prioritizr.net/reference/add_binary_decisions.html" class="external-link">add_binary_decisions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://prioritizr.net/reference/add_default_solver.html" class="external-link">add_default_solver</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Solve the problem</span></span>
<span><span class="va">soln</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the solution</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">soln</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Observe that the targets are met across all realizations of data</span></span>
<span><span class="va">feature_rep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://prioritizr.net/reference/eval_feature_representation_summary.html" class="external-link">eval_feature_representation_summary</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">soln</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">feature_rep</span><span class="op">$</span><span class="va">relative_held</span> <span class="op">&gt;</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you have questions or suggestions, please post an issue on the <a href="https://github.com/frankiecho/robust.prioritizr/issues" class="external-link">GitHub repository</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/frankiecho/robust.prioritizr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/frankiecho/robust.prioritizr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing robust.prioritizr</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://frankiecho.github.io/" class="external-link">Frankie Cho</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1369-4980" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>
<a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4716-6134" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://frankiecho.github.io/" class="external-link">Frankie Cho</a>, <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
