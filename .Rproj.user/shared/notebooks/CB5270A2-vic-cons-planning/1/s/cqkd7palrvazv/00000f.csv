"0","feature_rep_r <- global(species * rsv1, fun = 'sum', na.rm = T) %>%"
"0","  as.data.frame() %>%"
"0","  rownames_to_column('name')"
"0","worst_case_occurrence$rt <- rt*worst_case_occurrence$best_case"
"0","species_details %>%"
"0","  select(-any_of(contains('sum'))) %>%"
"0","  arrange(species, scenario, timestep) %>%"
"0","  left_join(feature_rep_r, by = ""name"") %>%"
"0","  mutate(species_scenario = paste(species, scenario)) %>%"
"0","  ggplot(aes(x = timestep, y = sum, color = scenario, group = species_scenario)) +"
"0","  facet_wrap(vars(species), scales = ""free_y"") +"
"0","  geom_line() +"
"0","  theme_bw() +"
"0","  geom_hline(data = worst_case_occurrence, aes(yintercept = rt)) +"
"0","  labs(x = ""Time-step"", y = ""Representation (number of cells)"") +"
"0","  coord_cartesian(xlim = c(2030, 2090)) +"
"0","  theme(panel.grid = element_blank(),"
"0","        legend.position = 'bottom')"
